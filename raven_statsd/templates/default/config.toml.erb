bind-address = "<%=@bind_address || "0.0.0.0" %>"
reporting-disabled = false

[logging]
level  = "<%=@log_level || "info"%>"
file   = "<%=@log_file || "/var/log/influxdb.log" %>"         # stdout to log to standard out, or syslog facility

[admin]
port   = <%=@admin_port || "8083" %>              # binding is disabled if the port isn't set

[api]
port     = <%=@api_port || "8086" %>    # binding is disabled if the port isn't set
read-timeout = "5s"

[input_plugins]

  [input_plugins.graphite]
  enabled = true
  address = "0.0.0.0" # If not set, is actually set to bind-address.
  port = 2003
  database = "<%=@stats_database || "stats" %>"  # store graphite data in this database
  udp_enabled = true

[storage]
dir = "<%=@storage_dir || "/opt/influxdb/shared/data/db" %>"
write-buffer-size = 10000
default-engine = "leveldb"
max-open-shards = 0
point-batch-size = 100
write-batch-size = 5000000
retention-sweep-period = "10m"

[storage.engines.leveldb]
max-open-files = 1000
lru-cache-size = "200m"

[storage.engines.rocksdb]
max-open-files = 1000
lru-cache-size = "200m"

[storage.engines.hyperleveldb]
max-open-files = 1000
lru-cache-size = "200m"

[storage.engines.lmdb]
map-size = "100g"

[wal]
dir   = "<%=@writeaheadlog_dir || "/opt/influxdb/shared/data/wal" %>"
flush-after = 1000 # the number of writes after which wal will be flushed, 0 for flushing on every write
bookmark-after = 1000 # the number of writes after which a bookmark will be created
index-after = 1000
requests-per-logfile = 10000

[raft]
port = 8090
dir = "<%=@raft_dir || "/opt/influxdb/shared/data/raft" %>"
